<nav class="navbar navbar-expand-lg bg-danger-subtle rounded-top mb-2" data-bs-theme="light">
  <div class="container-fluid">
    <span class="navbar-brand">
      <%= image_tag 'logo-om30.png', title: 'OM30', height: 54 %>
    </span>
    <%= button_tag class: "navbar-toggler",
                   type: "button",
                   data: { 'bs-toggle': "collapse", 'bs-target': "#navbarSupportedContent" },
                   aria: { controls: "navbarSupportedContent", expanded: "false", label: "Toggle navigation"} do
    %>
      <span class="navbar-toggler-icon"></span>
    <%- end if user_signed_in? %>
    <%- if user_signed_in? %>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <%= link_to t(:'menus.home'),
                      root_url,
                      class: "nav-link #{:active if controller_name == 'home' }"
          %>
        </li>
        <li class="nav-item">
          <%= link_to t(:'menus.municipes'),
                      municipes_url,
                      class: "nav-link #{:active if controller_name == 'municipes' }"
          %>
        </li>
      </ul>
      <ul class="navbar-nav mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <%= link_to '#',
                      class: "nav-link dropdown-toggle #{:active if controller_name == 'registrations' }",
                      role: "button",
                      data: { 'bs-toggle': "dropdown" },
                      aria: { expanded: "false" } do
          %>
            <%= current_user.email %>
          <%- end %>
          <ul class="dropdown-menu">
            <li>
              <%= link_to t(:'menus.registrations.edit'),
                          edit_user_registration_url,
                          class: "dropdown-item"
              %>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <%= link_to t(:'menus.sessions.delete'),
                          destroy_user_session_url,
                          data: { turbo_method: :delete },
                          class: 'dropdown-item'
              %>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <%- end %>
  </div>
</nav>